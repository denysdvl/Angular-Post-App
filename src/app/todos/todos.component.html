<div class="container">
  <div class="card">
    <form class="example-form" [formGroup]="form" (ngSubmit)="submit()">
      <div class="form-grup">
        <mat-form-field class="example-full-width">
          <input type="text" matInput placeholder="Name" formControlName="name" />
        </mat-form-field>
        <div *ngIf="form.get('name').invalid && form.get('name').touched">
          <mat-error *ngIf="form.get('name').errors.required">
            Name is <strong>required</strong>
          </mat-error>
        </div>
        <mat-form-field class="example-full-width">
          <input type="text" color matInput placeholder="Title" formControlName="title" />
        </mat-form-field>
        <div *ngIf="form.get('title').invalid && form.get('title').touched">
          <mat-error *ngIf="form.get('title').errors.required">
            Title is <strong>required</strong>
          </mat-error>
        </div>
      </div>
      <button mat-button type="submit" [disabled]="form.invalid">Add</button>
    </form>
  </div>
  <hr>
  <mat-list *ngIf="!loading; else loadingBlock">
    <mat-nav-list *ngFor="let userTodo of userTodos">
      <mat-card>
        <mat-card-content>
          <mat-card-title>
            {{userTodo.name}}
          </mat-card-title>
          <p>
            <span [class.completed]="userTodo.completed">{{userTodo.title}}</span>
          </p>
        </mat-card-content>
        <mat-card-actions>
          <button mat-button type="button" (click)="removeTodo(userTodo.id)">Delete</button>
          <button mat-button type="button" [disabled]="userTodo.completed"
            (click)="completeTodo(userTodo.id)">Ready</button>
        </mat-card-actions>
      </mat-card>
    </mat-nav-list>
  </mat-list>
  <ng-template #loadingBlock>
    <mat-spinner class="spinner"></mat-spinner>
  </ng-template>
</div>
